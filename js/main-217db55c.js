function makeWorld(){document.getElementsByTagName("main")[0].style.visibility="visible";for(var t,e={},n=(e.width=window.innerWidth,e.height=window.innerHeight,e.centerX=e.width/2,e.centerY=e.height/2,e.offsetX=e.width/2,e.offsetY=e.height/2,Matter.Engine),i=Matter.Render,o=Matter.Runner,r=(Matter.Common,Matter.World),a=Matter.Bodies,s=(Matter.Body,Matter.Events),d=Matter.Query,h=Matter.MouseConstraint,c=Matter.Mouse,n=n.create(),l=n.world,u=i.create({engine:n,element:document.getElementById("debug"),options:{width:window.innerWidth,height:window.innerHeight,background:"transparent",wireframeBackground:"transparent",hasBounds:!0,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!0,showBroadphase:!0,showBounds:!0,showVelocity:!0,showCollisions:!0,showAxes:!1,showPositions:!0,showAngleIndicator:!0,showIds:!0,showShadows:!1}}),i=(i.run(u),o.create()),o=(o.run(i,n),{isStatic:!0,restitution:.8,friction:1}),w=(r.add(l,[a.rectangle(window.innerWidth/2,window.innerHeight+50,window.innerWidth+200,100,{isStatic:!0,restitution:.8,friction:1}),a.rectangle(window.innerWidth/2,-50,window.innerWidth+200,100,o),a.rectangle(window.innerWidth+50,window.innerHeight/2,100,window.innerHeight,o),a.rectangle(-50,window.innerHeight/2,100,window.innerHeight,o)]),document.querySelectorAll(".matter-body")),m=[],f=[],g=0,y=w.length;g<y;g++)w[g].classList.contains("strip")?t=a.rectangle(e.centerX+Math.floor(Math.random()*e.width/2)-e.width/4,e.centerY+Math.floor(Math.random()*e.height/2)-e.height/4,e.width*w[g].offsetWidth/window.innerWidth,e.height*w[g].offsetHeight/window.innerHeight,{restitution:.5,friction:0,frictionAir:.001,frictionStatic:0,density:1,chamfer:{radius:24},angle:2*Math.random()-1}):w[g].classList.contains("page-nav")?t=a.rectangle(e.centerX+Math.floor(Math.random()*e.width/2)-e.width/4,e.centerY+Math.floor(Math.random()*e.height/2)-e.height/4,64,64,{restitution:.5,friction:0,frictionAir:.001,frictionStatic:0,density:1,chamfer:{radius:24},angle:2*Math.random()-1}):w[g].classList.contains("disturber")&&(t=a.circle(e.centerX+Math.floor(Math.random()*e.width/2)-e.width/4,e.centerY+Math.floor(Math.random()*e.width/2)-e.width/4,16,{restitution:.5,friction:0,frictionAir:0,frictionStatic:0,density:1,angle:0}),f.push(t)),w[g].id=t.id,m.push(t);r.add(n.world,m),n.world.gravity.y=0;var M,p,b,v,W,B,i=c.create(u.canvas),l=h.create(n,{mouse:i,constraint:{stiffness:1,render:{visible:!1}}});function x(){for(var t=document.getElementsByClassName("hover"),e=0;e<t.length;e++)t[e].classList.remove("hover");document.body.style.cursor="auto"}r.add(n.world,l),u.mouse=i,s.on(l,"mousemove",function(t){M=t.mouse.absolute.x,p=t.mouse.absolute.y,d.point(m,{x:M,y:p}).length?(x(),t=d.point(m,{x:M,y:p})[0].id,document.getElementById(t).className+=" hover",document.body.style.cursor="pointer"):x()}),s.on(l,"mousedown",function(t){b=t.mouse.absolute.x,v=t.mouse.absolute.y}),s.on(l,"mouseup",function(t){var e;W=t.mouse.absolute.x,B=t.mouse.absolute.y,b==W&&v==B&&(e=d.point(m,{x:W,y:B}).length?d.point(m,{x:W,y:B})[0].id:e)&&(window.location.href=document.getElementById(e).getAttribute("data-url")),x()}),window.requestAnimationFrame(function t(){for(var e=0,n=f.length;e<n;e++)f[e].force.y+=2*Math.round(Math.random())-1,f[e].force.x+=2*Math.round(Math.random())-1;for(e=0,n=w.length;e<n;e++){for(var i=w[e],o=null,r=0,a=m.length;r<a;r++)if(m[r].id==i.id){o=m[r];break}null!==o&&(i.style.transform="translate( "+(o.position.x-i.offsetWidth/2)+"px, "+(o.position.y-i.offsetHeight/2)+"px )",i.style.transform+="rotate( "+o.angle+"rad )")}window.requestAnimationFrame(t)});var E=document.querySelector("#toggle-debug");E.onclick=function(){E.classList.contains("on")?(document.getElementById("debug").style.opacity=0,E.className="off"):(document.getElementById("debug").style.opacity=1,E.className="on",waitOff=setTimeout(function(){document.getElementById("debug").style.opacity=0,E.className="off",clearTimeout(waitDiff)},5e3))}}function debounce(n,i,o){var r;return function(){var t=this,e=arguments;clearTimeout(r),r=setTimeout(function(){r=null,o||n.apply(t,e)},i),o&&!r&&n.apply(t,e)}}makeWorld();var refreshWorld=debounce(function(){location.reload()},500);window.addEventListener("resize",refreshWorld);