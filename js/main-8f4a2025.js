function makeWorld(){function e(){for(var e=document.getElementsByClassName("hover"),t=0;t<e.length;t++)e[t].classList.remove("hover");document.body.style.cursor="auto"}function t(){for(var e=0,n=p.length;e<n;e++){for(var i=p[e],o=null,r=0,a=b.length;r<a;r++)if(b[r].id==i.id){o=b[r];break}null!==o&&(i.style.transform="translate( "+(o.position.x-i.offsetWidth/2)+"px, "+(o.position.y-i.offsetHeight/2)+"px )",i.style.transform+="rotate( "+o.angle+"rad )")}for(var e=0,n=A.length;e<n;e++){for(var d=A[e],s=null,r=0,a=B.length;r<a;r++)if(B[r].id==d.id){s=B[r];break}null!==s&&(d.style.transform="translate( "+(s.position.x-d.offsetWidth/2)+"px, "+(s.position.y-d.offsetHeight/2)+"px )",d.style.transform+="rotate( "+s.angle+"rad )")}window.requestAnimationFrame(t)}document.getElementsByTagName("main")[0].style.visibility="visible";var n={};n.width=window.innerWidth,n.height=window.innerHeight,n.centerX=n.width/2,n.centerY=n.height/2,n.offsetX=n.width/2,n.offsetY=n.height/2;var i=Matter.Engine,o=Matter.Render,r=Matter.Runner,a=Matter.Common,d=Matter.World,s=Matter.Bodies,l=(Matter.Body,Matter.Events),h=Matter.Query,u=Matter.MouseConstraint,c=Matter.Mouse,m=i.create(),w=m.world,f=o.create({engine:m,element:document.getElementById("debug"),options:{width:window.innerWidth,height:window.innerHeight,background:"transparent",wireframeBackground:"transparent",hasBounds:!1,enabled:!0,wireframes:!1,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}});o.run(f);var g=r.create();r.run(g,m);var y={isStatic:!0,restitution:.2,friction:1},v={isStatic:!0,restitution:0,friction:1};d.add(w,[s.rectangle(window.innerWidth/2,window.innerHeight+50,window.innerWidth+200,100,v),s.rectangle(window.innerWidth/2,-50,window.innerWidth+200,100,y),s.rectangle(window.innerWidth+50,window.innerHeight/2,100,window.innerHeight,y),s.rectangle(-50,window.innerHeight/2,100,window.innerHeight,y)]);for(var p=document.querySelectorAll(".strip"),b=[],x=0,M=p.length;x<M;x++){p[x].classList.contains("hot")?frA=.5:frA=0;var W=s.rectangle(n.centerX+Math.floor(Math.random()*n.width/2)-n.width/4,0,n.width*p[x].offsetWidth/window.innerWidth,n.height*p[x].offsetHeight/window.innerHeight,{restitution:.1,friction:3,frictionAir:frA,frictionStatic:2,density:3,chamfer:{radius:4},angle:2*Math.random()-1});p[x].id=W.id,b.push(W)}d.add(m.world,b);for(var A=document.querySelectorAll(".page-nav"),B=[],x=0,M=A.length;x<M;x++){var E=s.circle(n.centerX+Math.floor(Math.random()*n.width/2)-n.width/4,0,24,{restitution:.5,friction:3,frictionAir:0,frictionStatic:2,density:5,angle:2*Math.random()-1});A[x].id=E.id,B.push(E)}d.add(m.world,B);var H=function(e){var t=void 0!==window.orientation?window.orientation:0,n=m.world.gravity;0===t?(n.x=a.clamp(e.gamma,-90,90)/90,n.y=a.clamp(e.beta,-90,90)/90):180===t?(n.x=a.clamp(e.gamma,-90,90)/90,n.y=a.clamp(-e.beta,-90,90)/90):90===t?(n.x=a.clamp(e.beta,-90,90)/90,n.y=a.clamp(-e.gamma,-90,90)/90):-90===t&&(n.x=a.clamp(-e.beta,-90,90)/90,n.y=a.clamp(e.gamma,-90,90)/90)};window.addEventListener("deviceorientation",H);var I=c.create(f.canvas),S=u.create(m,{mouse:I,constraint:{stiffness:1,render:{visible:!1}}});d.add(m.world,S),f.mouse=I;var k,q,C,L,N,X;l.on(S,"mousemove",function(t){if(k=t.mouse.absolute.x,q=t.mouse.absolute.y,h.point(b,{x:k,y:q}).length){e();var n=h.point(b,{x:k,y:q})[0].id;document.getElementById(n).className+=" hover",document.body.style.cursor="pointer"}else if(h.point(B,{x:k,y:q}).length){e();var n=h.point(B,{x:k,y:q})[0].id;document.getElementById(n).className+=" hover",document.body.style.cursor="pointer"}else e()}),l.on(S,"mousedown",function(e){C=e.mouse.absolute.x,L=e.mouse.absolute.y}),l.on(S,"mouseup",function(t){if(N=t.mouse.absolute.x,X=t.mouse.absolute.y,C==N&&L==X){if(h.point(b,{x:N,y:X}).length){var n=h.point(b,{x:N,y:X})[0].id;window.location.href=document.getElementById(n).getAttribute("data-url")}if(h.point(B,{x:N,y:X}).length){var n=h.point(B,{x:N,y:X})[0].id;document.getElementById(n).getAttribute("data-url")&&(window.location.href=document.getElementById(n).getAttribute("data-url"))}}e()}),window.requestAnimationFrame(t)}function debounce(e,t,n){var i;return function(){var o=this,r=arguments;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(o,r)},t),n&&!i&&e.apply(o,r)}}makeWorld();var refreshWorld=debounce(function(){location.reload()},500);window.addEventListener("resize",refreshWorld);