function makeWorld(){function t(t){Y=t.clientX,S=t.clientY}function e(t){if(k=t.clientX,L=t.clientY,Y==t.clientX&&S==t.clientY){if(h.point(E,{x:t.clientX,y:t.clientY}).length){var e=h.point(E,{x:t.clientX,y:t.clientY})[0].id;window.location.href=document.getElementById(e).getAttribute("data-url")}if(h.point(I,{x:t.clientX,y:t.clientY}).length){var e=h.point(I,{x:t.clientX,y:t.clientY})[0].id;document.getElementById(e).getAttribute("data-url")&&(window.location.href=document.getElementById(e).getAttribute("data-url"))}}}function n(t){Y=t.touches[0].clientX,S=t.touches[0].clientY}function i(t){if(k=t.changedTouches[0].clientX,L=t.changedTouches[0].clientY,Y==k&&S==L){if(h.point(E,{x:k,y:L}).length){var e=h.point(E,{x:k,y:L})[0].id;window.location.href=document.getElementById(e).getAttribute("data-url")}if(h.point(I,{x:k,y:L}).length){var e=h.point(I,{x:k,y:L})[0].id;document.getElementById(e).getAttribute("data-url")&&(window.location.href=document.getElementById(e).getAttribute("data-url"))}}}function o(){for(var t=0,e=b.length;t<e;t++){for(var n=b[t],i=null,r=0,d=E.length;r<d;r++)if(E[r].id==n.id){i=E[r];break}null!==i&&(n.style.transform="translate( "+(i.position.x-n.offsetWidth/2)+"px, "+(i.position.y-n.offsetHeight/2)+"px )",n.style.transform+="rotate( "+i.angle+"rad )")}for(var t=0,e=x.length;t<e;t++){for(var a=x[t],l=null,r=0,d=I.length;r<d;r++)if(I[r].id==a.id){l=I[r];break}null!==l&&(a.style.transform="translate( "+(l.position.x-a.offsetWidth/2)+"px, "+(l.position.y-a.offsetHeight/2)+"px )",a.style.transform+="rotate( "+l.angle+"rad )")}window.requestAnimationFrame(o)}document.getElementsByTagName("main")[0].style.visibility="visible";var r={};r.width=window.innerWidth,r.height=window.innerHeight,r.centerX=r.width/2,r.centerY=r.height/2,r.offsetX=r.width/2,r.offsetY=r.height/2;var d=Matter.Engine,a=Matter.Render,l=Matter.Runner,c=(Matter.Common,Matter.World),s=Matter.Bodies,h=(Matter.Body,Matter.Events,Matter.Query),u=Matter.MouseConstraint,w=Matter.Mouse,g=d.create(),f=g.world,m=a.create({engine:g,element:document.getElementById("debug"),options:{width:window.innerWidth,height:window.innerHeight,background:"transparent",wireframeBackground:"transparent",hasBounds:!1,enabled:!0,wireframes:!1,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}});a.run(m);var y=l.create();l.run(y,g);var v={isStatic:!0,restitution:.2,friction:1},p={isStatic:!0,restitution:0,friction:1};c.add(f,[s.rectangle(window.innerWidth/2,window.innerHeight+50,window.innerWidth+200,100,p),s.rectangle(window.innerWidth/2,-50,window.innerWidth+200,100,v),s.rectangle(window.innerWidth+50,window.innerHeight/2,100,window.innerHeight,v),s.rectangle(-50,window.innerHeight/2,100,window.innerHeight,v)]);for(var b=document.querySelectorAll(".strip"),E=[],M=0,B=b.length;M<B;M++){var W=s.rectangle(r.centerX+Math.floor(Math.random()*r.width/2)-r.width/4,0,r.width*b[M].offsetWidth/window.innerWidth,r.height*b[M].offsetHeight/window.innerHeight,{restitution:.2,friction:1,frictionStatic:1,density:1,chamfer:{radius:4},angle:2*Math.random()-1});b[M].id=W.id,E.push(W)}c.add(g.world,E);for(var x=document.querySelectorAll(".page-nav"),I=[],M=0,B=x.length;M<B;M++){var X=s.circle(r.centerX+Math.floor(Math.random()*r.width/2)-r.width/4,0,24,{restitution:.2,friction:1,frictionStatic:1,density:1,angle:2*Math.random()-1});x[M].id=X.id,I.push(X)}c.add(g.world,I);var A=w.create(m.canvas),H=u.create(g,{mouse:A,constraint:{stiffness:1,render:{visible:!1}}});c.add(g.world,H),m.mouse=A;var Y,S,k,L;document.getElementById("debug").addEventListener("mousedown",function(e){t(e)}),document.getElementById("debug").addEventListener("mouseup",function(t){e(t)}),document.getElementById("debug").addEventListener("touchstart",function(t){n(t)}),document.getElementById("debug").addEventListener("touchend",function(t){i(t)}),window.requestAnimationFrame(o)}function debounce(t,e,n){var i;return function(){var o=this,r=arguments;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(o,r)},e),n&&!i&&t.apply(o,r)}}makeWorld();var refreshWorld=debounce(function(){location.reload()},500);window.addEventListener("resize",refreshWorld);